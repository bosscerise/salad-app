import{r as t,a as F,j as e,u as j,b as M}from"./index-M0aU7OHf.js";import{c as u,m as z}from"./proxy-CqU09rBJ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],w=u("ArrowRight",P);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],N=u("CircleAlert",_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],L=u("CircleCheckBig",q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],k=u("EyeOff",R);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C=u("Eye",$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],E=u("Loader",A),T=()=>{var o,s;const[a,m]=t.useState(!0),l=((s=(o=F().state)==null?void 0:o.from)==null?void 0:s.pathname)||"/";return e.jsxs("div",{className:"relative flex items-center justify-center min-h-screen p-4 bg-gradient-to-br from-green-50 to-blue-50",children:[e.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2322c55e' fill-opacity='0.2'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsx("div",{className:"z-10 w-full max-w-md",children:e.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"overflow-hidden bg-white shadow-xl rounded-xl",children:[e.jsxs("div",{className:"flex divide-x divide-gray-200",children:[e.jsx("button",{onClick:()=>m(!0),className:`flex-1 py-4 text-center font-medium text-sm sm:text-base transition-colors ${a?"bg-emerald-50 text-emerald-700":"text-gray-500 hover:text-emerald-600"}`,children:"Sign In"}),e.jsx("button",{onClick:()=>m(!1),className:`flex-1 py-4 text-center font-medium text-sm sm:text-base transition-colors ${a?"text-gray-500 hover:text-emerald-600":"bg-emerald-50 text-emerald-700"}`,children:"Register"})]}),e.jsx("div",{className:"p-6 sm:p-8",children:a?e.jsx(D,{redirectPath:l}):e.jsx(H,{setIsLogin:m})})]})})]})},D=({redirectPath:a})=>{const{login:m,isLoading:h}=j(),l=M(),[o,s]=t.useState(!1),[i,y]=t.useState({email:"",password:"",remember:!0}),[c,x]=t.useState(null),g=f=>{const{id:r,value:d,type:p,checked:b}=f.target;y(v=>({...v,[r]:p==="checkbox"?b:d}))},n=async f=>{f.preventDefault(),x(null);try{await m(i.email,i.password,i.remember),l(a)}catch(r){const d=r instanceof Error?r.message:"Failed to sign in. Please check your credentials.";x(d)}};return e.jsxs("form",{onSubmit:n,className:"space-y-5",children:[c&&e.jsxs("div",{className:"flex items-start p-3 text-sm text-red-700 rounded-lg bg-red-50",children:[e.jsx(N,{className:"min-w-5 h-5 mr-2 mt-0.5"}),e.jsx("span",{children:c})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block mb-1 text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:i.email,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",placeholder:"you@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block mb-1 text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",id:"password",value:i.password,onChange:g,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",placeholder:"••••••••",required:!0}),e.jsx("button",{type:"button",onClick:()=>s(!o),className:"absolute text-gray-400 -translate-y-1/2 right-3 top-1/2 hover:text-gray-600",children:o?e.jsx(k,{size:18}):e.jsx(C,{size:18})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"remember",checked:i.remember,onChange:g,className:"w-4 h-4 border-gray-300 rounded text-emerald-600 focus:ring-emerald-500"}),e.jsx("label",{htmlFor:"remember",className:"block ml-2 text-sm text-gray-700",children:"Remember me"})]}),e.jsx("a",{href:"#",className:"text-sm font-medium text-emerald-600 hover:text-emerald-500",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",disabled:h,className:"w-full flex items-center justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-all",children:h?e.jsx(E,{className:"w-5 h-5 animate-spin"}):e.jsxs(e.Fragment,{children:["Sign in",e.jsx(w,{className:"w-4 h-4 ml-2"})]})})]})},H=({setIsLogin:a})=>{const{register:m,isLoading:h}=j(),[l,o]=t.useState(!1),[s,i]=t.useState({firstName:"",lastName:"",email:"",password:"",passwordConfirm:"",terms:!1}),[y,c]=t.useState(null),[x,g]=t.useState(!1);t.useEffect(()=>{let r;return x&&(r=window.setTimeout(()=>{a(!0)},2e3)),()=>{r&&clearTimeout(r)}},[x,a]);const n=r=>{const{id:d,value:p,type:b,checked:v}=r.target;i(S=>({...S,[d]:b==="checkbox"?v:p}))},f=async r=>{if(r.preventDefault(),c(null),s.password!==s.passwordConfirm){c("Passwords don't match");return}if(!s.terms){c("You must agree to the Terms of Service");return}try{await m({email:s.email,password:s.password,passwordConfirm:s.passwordConfirm,name:`${s.firstName} ${s.lastName}`.trim()}),g(!0)}catch(d){const p=d instanceof Error?d.message:"Registration failed";c(p)}};return x?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 mb-4 bg-green-100 rounded-full",children:e.jsx(L,{className:"w-10 h-10 text-green-500"})}),e.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Registration successful!"}),e.jsx("p",{className:"mb-4 text-gray-600",children:"Your account has been created."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to login..."})]}):e.jsxs("form",{onSubmit:f,className:"space-y-5",children:[y&&e.jsxs("div",{className:"flex items-start p-3 text-sm text-red-700 rounded-lg bg-red-50",children:[e.jsx(N,{className:"min-w-5 h-5 mr-2 mt-0.5"}),e.jsx("span",{children:y})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block mb-1 text-sm font-medium text-gray-700",children:"First name"}),e.jsx("input",{type:"text",id:"firstName",value:s.firstName,onChange:n,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block mb-1 text-sm font-medium text-gray-700",children:"Last name"}),e.jsx("input",{type:"text",id:"lastName",value:s.lastName,onChange:n,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block mb-1 text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:s.email,onChange:n,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",placeholder:"you@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block mb-1 text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",id:"password",value:s.password,onChange:n,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",required:!0,minLength:8}),e.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute text-gray-400 -translate-y-1/2 right-3 top-1/2 hover:text-gray-600",children:l?e.jsx(k,{size:18}):e.jsx(C,{size:18})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"passwordConfirm",className:"block mb-1 text-sm font-medium text-gray-700",children:"Confirm password"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:l?"text":"password",id:"passwordConfirm",value:s.passwordConfirm,onChange:n,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",required:!0})})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"terms",type:"checkbox",checked:s.terms,onChange:n,className:"w-4 h-4 border-gray-300 rounded text-emerald-600 focus:ring-emerald-500",required:!0})}),e.jsx("div",{className:"ml-3",children:e.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-600",children:["I agree to the ",e.jsx("a",{href:"#",className:"text-emerald-600 hover:text-emerald-500",children:"Terms of Service"})," and ",e.jsx("a",{href:"#",className:"text-emerald-600 hover:text-emerald-500",children:"Privacy Policy"})]})})]}),e.jsx("button",{type:"submit",disabled:h,className:"w-full flex items-center justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-all",children:h?e.jsx(E,{className:"w-5 h-5 animate-spin"}):e.jsxs(e.Fragment,{children:["Create account",e.jsx(w,{className:"w-4 h-4 ml-2"})]})})]})};export{T as default};
