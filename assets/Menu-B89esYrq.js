import{j as e,A as L,m as w}from"./animations-C7mpbJ_1.js";import{r as o,d as U}from"./vendor-Cf8TOEbQ.js";import{u as Y,H as _}from"./Header-lNkQjTim.js";import{C as z,R as X,T as ee,P as Q,H as te,M as Z,L as se,Z as ae,a as re,I as ie,b as ne,c as le,S as oe,d as ce,e as de}from"./ui-C7tV8lXm.js";import"./index-igdoIp_p.js";const me=({activeTab:i,setActiveTab:l})=>e.jsx("div",{className:"bg-white/70 backdrop-blur-sm shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-center py-4",children:e.jsxs("div",{className:"inline-flex rounded-lg bg-teal-100 p-1 shadow-md",children:[e.jsx("button",{onClick:()=>l("premade"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${i==="premade"?"bg-white text-teal-700 shadow":"text-teal-600 hover:bg-white/30"}`,children:"Signature Bowls"}),e.jsx("button",{onClick:()=>l("custom"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${i==="custom"?"bg-white text-teal-700 shadow":"text-teal-600 hover:bg-white/30"}`,children:"Build Your Own"})]})})})}),xe=({mobileMenuOpen:i,activeTab:l,setActiveTab:u,selectedCategory:b,setSelectedCategory:c,selectedIngredientCategory:t,setSelectedIngredientCategory:m,menuCategories:f,ingredientCategories:g,getIngredientCounts:y,setMobileMenuOpen:p})=>e.jsx(L,{children:i&&e.jsx(w.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white/95 backdrop-blur-lg shadow-lg overflow-hidden z-40",children:e.jsxs("div",{className:"px-4 py-4",children:[e.jsxs("div",{className:"flex mb-4 border-b border-gray-200 pb-2",children:[e.jsx("button",{onClick:()=>{u("premade"),p(!1)},className:`flex-1 py-2 px-3 rounded-lg ${l==="premade"?"bg-teal-500 text-white font-medium":"bg-gray-100 text-gray-700"}`,children:"Signature Bowls"}),e.jsx("button",{onClick:()=>{u("custom"),p(!1)},className:`flex-1 py-2 px-3 rounded-lg ml-2 ${l==="custom"?"bg-teal-500 text-white font-medium":"bg-gray-100 text-gray-700"}`,children:"Build Your Own"})]}),l==="premade"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Categories"}),f.map(x=>e.jsxs(w.button,{onClick:()=>{c(x.id),p(!1)},className:`flex items-center justify-between w-full px-4 py-3 rounded-lg ${b===x.id?"bg-gradient-to-r from-teal-500 to-emerald-500 text-white":"bg-white hover:bg-teal-50 text-gray-700 hover:text-teal-700"}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl mr-3",children:x.icon}),e.jsx("span",{className:"font-medium",children:x.name})]}),e.jsx(z,{className:"w-4 h-4"})]},x.id))]}),l==="custom"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Ingredient Categories"}),g.map(x=>e.jsxs(w.button,{onClick:()=>{m(x.id),p(!1)},className:`flex items-center justify-between w-full px-4 py-3 rounded-lg ${t===x.id?"bg-gradient-to-r from-teal-500 to-emerald-500 text-white":"bg-white hover:bg-teal-50 text-gray-700 hover:text-teal-700"}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl mr-3",children:x.icon}),e.jsx("span",{className:"font-medium",children:x.name})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"bg-white/20 text-xs py-1 px-2 rounded-full mr-2",children:y(x.id)}),e.jsx(z,{className:"w-4 h-4"})]})]},x.id))]})]})})}),ge=({activeTab:i,selectedCategory:l,setSelectedCategory:u,selectedIngredientCategory:b,setSelectedIngredientCategory:c,menuCategories:t,ingredientCategories:m,getIngredientCounts:f,savedCustomSalads:g,loadSavedSalad:y,deleteSavedSalad:p,showSuggestions:x,setShowSuggestions:k,recommendationType:v,setRecommendationType:S,suggestedCombinations:h,applySuggestedCombination:C,selectedCombination:N,getRecommendedIngredients:$,handleAddIngredient:F})=>e.jsx("div",{className:"hidden md:block md:w-64 lg:w-72 shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sticky top-24",children:[i==="premade"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium text-gray-700 mb-3",children:"Categories"}),t.map(s=>e.jsxs(w.button,{onClick:()=>u(s.id),whileHover:{x:3},whileTap:{scale:.98},className:`flex items-center w-full px-3 py-2 rounded-lg ${l===s.id?"bg-gradient-to-r from-teal-500 to-emerald-500 text-white":"hover:bg-teal-50 text-gray-700 hover:text-teal-700"}`,children:[e.jsx("span",{className:"text-xl mr-3",children:s.icon}),e.jsx("span",{className:"font-medium",children:s.name})]},s.id))]}),i==="custom"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium text-gray-700 mb-3",children:"Ingredient Categories"}),m.map(s=>e.jsxs(w.button,{onClick:()=>c(s.id),whileHover:{x:3},whileTap:{scale:.98},className:`flex items-center justify-between w-full px-3 py-2 rounded-lg ${b===s.id?"bg-gradient-to-r from-teal-500 to-emerald-500 text-white":"hover:bg-teal-50 text-gray-700 hover:text-teal-700"}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl mr-3",children:s.icon}),e.jsx("span",{className:"font-medium",children:s.name})]}),f(s.id)>0&&e.jsx("span",{className:`text-xs py-1 px-2 rounded-full ${b===s.id?"bg-white/20 text-white":"bg-teal-100 text-teal-800"}`,children:f(s.id)})]},s.id)),g.length>0&&e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"font-medium text-gray-700 mb-3",children:"My Saved Salads"}),e.jsx("div",{className:"space-y-2",children:g.map(s=>e.jsxs("div",{className:"bg-teal-50 rounded-lg p-3 relative group",children:[e.jsx("div",{className:"font-medium text-teal-800 mb-1 truncate pr-6",children:s.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Object.keys(s.ingredients).length," ingredients"]}),e.jsxs("div",{className:"absolute right-2 top-2 flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>y(s),className:"p-1 text-teal-600 hover:text-teal-800",children:e.jsx(X,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(s.id),className:"p-1 text-red-500 hover:text-red-700",children:e.jsx(ee,{className:"w-4 h-4"})})]})]},s.id))})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-medium text-gray-700",children:"Recommendations"}),e.jsx("button",{onClick:()=>k(!x),className:"text-xs text-teal-600 hover:text-teal-800",children:x?"Hide":"Show"})]}),x&&e.jsxs("div",{className:"mt-3 space-y-3",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>S("balanced"),className:`text-xs px-2 py-1 rounded-full ${v==="balanced"?"bg-teal-500 text-white":"bg-teal-100 text-teal-800"}`,children:"Balanced"}),e.jsx("button",{onClick:()=>S("protein"),className:`text-xs px-2 py-1 rounded-full ${v==="protein"?"bg-teal-500 text-white":"bg-teal-100 text-teal-800"}`,children:"High Protein"}),e.jsx("button",{onClick:()=>S("low-cal"),className:`text-xs px-2 py-1 rounded-full ${v==="low-cal"?"bg-teal-500 text-white":"bg-teal-100 text-teal-800"}`,children:"Low Calorie"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:$().map(s=>e.jsxs("div",{className:"bg-white rounded-lg p-2 shadow-sm flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:s.name}),e.jsx("button",{onClick:()=>F(s.id),className:"p-1 bg-teal-100 rounded-full text-teal-700 hover:bg-teal-200",children:e.jsx(Q,{className:"w-3 h-3"})})]},s.id))}),e.jsxs("div",{className:"mt-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Suggested Combinations"}),e.jsx("div",{className:"space-y-2",children:h.map(s=>e.jsxs("button",{onClick:()=>C(s.id),className:`block w-full text-left px-3 py-2 rounded-lg ${N===s.id?"bg-teal-500 text-white":"bg-teal-50 hover:bg-teal-100 text-gray-700"}`,children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"text-xs mt-1 truncate",children:[s.base.length+s.protein.length+s.toppings.length+s.dressing.length+s.extras.length," ingredients"]})]},s.id))})]})]})]})]})]})}),he=({salad:i,isFavorite:l,onToggleFavorite:u,onAddToCart:b})=>{const[c,t]=o.useState(!1);return e.jsxs(w.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},whileHover:{y:-5},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"relative h-48 bg-emerald-100",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-500/20 to-emerald-600/30"}),e.jsx("button",{onClick:()=>u(i.id),className:"absolute top-2 right-2 z-10 p-2 bg-white/80 backdrop-blur-sm rounded-full shadow-md",children:e.jsx(te,{className:`w-5 h-5 ${l?"fill-red-500 text-red-500":"text-gray-400"}`})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:i.name}),e.jsxs("span",{className:"font-bold text-teal-600",children:["$",i.price]})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:i.description}),e.jsxs("div",{className:"mt-3 flex items-center text-sm text-gray-500",children:[e.jsxs("span",{className:"bg-teal-100 text-teal-800 px-2 py-1 rounded-full text-xs",children:[i.calories," cal"]}),e.jsx("div",{className:"mx-2 h-4 w-px bg-gray-300"}),e.jsx("div",{className:"flex space-x-1",children:i.tags.map(m=>e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded-full text-xs",children:m},m))})]}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("button",{onClick:()=>t(!c),className:"text-xs text-teal-600 hover:text-teal-800 flex items-center",children:[c?"Hide details":"Show details",e.jsx(z,{className:`w-4 h-4 ml-1 transition-transform ${c?"rotate-90":""}`})]}),e.jsx(w.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,className:"px-3 py-2 bg-gradient-to-r from-teal-500 to-emerald-500 text-white text-sm font-medium rounded-lg shadow-md hover:shadow-lg",children:"Add to Cart"})]}),e.jsx(L,{children:c&&e.jsxs(w.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[e.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Protein"}),e.jsxs("div",{className:"font-bold text-gray-700",children:[i.nutritionFacts.protein,"g"]})]}),e.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Carbs"}),e.jsxs("div",{className:"font-bold text-gray-700",children:[i.nutritionFacts.carbs,"g"]})]}),e.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Fats"}),e.jsxs("div",{className:"font-bold text-gray-700",children:[i.nutritionFacts.fats,"g"]})]})]}),e.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"Ingredients:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:i.ingredients.map(m=>e.jsx("span",{className:"bg-teal-50 text-teal-700 px-2 py-1 rounded-full text-xs",children:m},m))})]})})]})]})},ue=({salads:i,favorites:l,toggleFavorite:u,handleAddToCart:b})=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.jsx(L,{children:i.map(c=>e.jsx(he,{salad:c,isFavorite:l.includes(c.id),onToggleFavorite:u,onAddToCart:b},c.id))})}),pe=({ingredient:i,count:l,onAddIngredient:u,onRemoveIngredient:b})=>{const{isDarkMode:c}=Y(),[t,m]=o.useState(!1),[f,g]=o.useState(!1),[y,p]=o.useState(!1),x=()=>{g(!0),setTimeout(()=>g(!1),300)},k=$=>{switch($){case"protein":return e.jsx("div",{className:`flex items-center justify-center w-6 h-6 rounded-full ${c?"bg-amber-900/30 text-amber-500":"bg-amber-100 text-amber-600"}`,children:e.jsx(ae,{className:"w-3.5 h-3.5"})});case"base":return e.jsx("div",{className:`flex items-center justify-center w-6 h-6 rounded-full ${c?"bg-emerald-900/30 text-emerald-500":"bg-emerald-100 text-emerald-600"}`,children:e.jsx(se,{className:"w-3.5 h-3.5"})});case"toppings":return e.jsx("div",{className:`flex items-center justify-center w-6 h-6 rounded-full ${c?"bg-indigo-900/30 text-indigo-500":"bg-indigo-100 text-indigo-600"}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})});case"dressing":return e.jsx("div",{className:`flex items-center justify-center w-6 h-6 rounded-full ${c?"bg-rose-900/30 text-rose-500":"bg-rose-100 text-rose-600"}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})});default:return e.jsx("div",{className:`flex items-center justify-center w-6 h-6 rounded-full ${c?"bg-purple-900/30 text-purple-500":"bg-purple-100 text-purple-600"}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})})}},v=i?.price??0,S=i?.calories??0,h=i?.protein??0,C=i?.carbs??0,N=i?.fats??0;return e.jsxs("div",{className:`relative overflow-hidden rounded-xl transition-all duration-300 ${c?"bg-gray-800 hover:bg-gray-750":"bg-white hover:bg-gray-50"} ${l>0?c?"ring-2 ring-green-500/50":"ring-2 ring-green-500/30":""} ${f?"scale-[0.98]":t?"scale-[1.01]":""} shadow-sm`,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onClick:x,children:[l>0&&e.jsx("div",{className:`absolute top-0 right-0 w-0 h-0 
          border-t-[40px] border-r-[40px] 
          ${c?"border-t-green-600":"border-t-green-500"} 
          border-r-transparent`}),e.jsxs("div",{className:"flex items-center p-4",children:[e.jsxs("div",{className:"relative flex-shrink-0 mr-4",children:[e.jsxs("div",{className:`w-16 h-16 rounded-lg bg-cover bg-center shadow-sm overflow-hidden ${c?"bg-gray-700":"bg-gray-100"}`,style:{backgroundImage:y?"none":`url(/ingredients/${i?.id}.jpg)`,backgroundSize:"cover"},children:[e.jsx("div",{className:`absolute inset-0 flex items-center justify-center ${c?"bg-gray-700":"bg-gray-100"}`,style:{opacity:y?1:0},onError:()=>p(!0),children:k(i?.category||"")}),e.jsx("img",{src:`/ingredients/${i?.id}.jpg`,alt:"",className:"hidden",onError:()=>p(!0)})]}),e.jsx("div",{className:"absolute -bottom-1 -left-1",children:k(i?.category||"")})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-medium text-base ${c?"text-white":"text-gray-800"}`,children:i?.name||"Ingredient"}),e.jsxs("div",{className:`flex flex-wrap gap-x-3 gap-y-1 mt-1 text-xs ${c?"text-gray-400":"text-gray-500"}`,children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"font-semibold",children:["$",v.toFixed(2)]})}),e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{children:[S," cal"]})}),h>0&&e.jsxs("div",{className:`px-1.5 py-0.5 rounded-sm text-xs ${c?"bg-gray-700 text-amber-400":"bg-amber-50 text-amber-700"}`,children:[h,"g protein"]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:`flex items-center ${l===0?"opacity-0":"opacity-100"} transition-opacity`,children:[e.jsx("button",{onClick:$=>{$.stopPropagation(),b(i?.id||"")},className:`flex items-center justify-center w-8 h-8 rounded-full transition-colors ${c?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,disabled:l===0,"aria-label":"Remove ingredient",children:e.jsx(Z,{className:"w-4 h-4"})}),e.jsx("span",{className:`mx-2 font-medium ${c?"text-white":"text-gray-800"}`,children:l})]}),e.jsx("button",{onClick:$=>{$.stopPropagation(),u(i?.id||"")},className:`flex items-center justify-center w-8 h-8 rounded-full transition-all ${l===0?c?"bg-green-600 hover:bg-green-500 text-white shadow-lg shadow-green-900/20":"bg-green-500 hover:bg-green-600 text-white shadow-lg shadow-green-600/20":c?"bg-green-700 hover:bg-green-600 text-white":"bg-green-100 hover:bg-green-200 text-green-700"} ${t&&l===0?"scale-110":""}`,"aria-label":"Add ingredient",children:e.jsx(Q,{className:"w-4 h-4"})})]})]}),(C>0||h>0||N>0)&&e.jsxs("div",{className:"flex h-1.5 w-full overflow-hidden",children:[e.jsx("div",{className:"bg-amber-500",style:{width:`${h>0?h/(h+C+N)*100:0}%`}}),e.jsx("div",{className:"bg-blue-500",style:{width:`${C>0?C/(h+C+N)*100:0}%`}}),e.jsx("div",{className:"bg-red-500",style:{width:`${N>0?N/(h+C+N)*100:0}%`}})]})]})},be=U.memo(pe),fe=({ingredients:i=[],ingredientCategories:l=[],suggestedCombinations:u=[],onAddToCart:b,isLoading:c=!1})=>{const{isDarkMode:t}=Y(),[m,f]=o.useState(0),[g,y]=o.useState({}),[p,x]=o.useState(1),[k,v]=o.useState(null),[S,h]=o.useState(!0),[C,N]=o.useState(!1),[$,F]=o.useState(!1);o.useEffect(()=>{l&&l.length>0&&m>=l.length&&f(0)},[l,m]);const s=o.useMemo(()=>Object.entries(g).reduce((a,[r,n])=>{const d=i?.find(j=>j.id===r);return d&&n>0&&(a.price+=d.price*n,a.calories+=d.calories*n,a.protein+=(d.protein||0)*n,a.carbs+=(d.carbs||0)*n,a.fats+=(d.fats||0)*n,a.count+=n),a},{price:0,calories:0,protein:0,carbs:0,fats:0,count:0}),[i,g]),M=l[m],T=o.useMemo(()=>i?.filter(a=>a.category===M?.id)||[],[i,M]),P=o.useMemo(()=>m===0?Object.entries(g).some(([a,r])=>i?.find(d=>d.id===a)?.category===M?.id&&r>0):!0,[m,M,i,g]),R=a=>{N(!0),y({});const r={};Object.entries(a).forEach(([n,d])=>{Array.isArray(d)&&n!=="id"&&n!=="name"&&d.forEach(j=>{r[j]=1})}),y(r),v(a.id),f(0),setTimeout(()=>{N(!1)},1500)},O=a=>{y(r=>({...r,[a]:(r[a]||0)+1})),k&&v(null)},H=a=>{y(r=>{const n={...r};return(r[a]||0)>0&&(n[a]=r[a]-1,n[a]===0&&delete n[a]),n}),k&&v(null)},A=()=>{b("custom-salad",p,g),y({}),f(0),x(1),v(null)},B=()=>{m<l.length-1&&f(m+1)},G=()=>{m>0&&f(m-1)};o.useEffect(()=>{S&&setTimeout(()=>{h(!1)},500)},[S]);const I=o.useMemo(()=>Object.entries(g).filter(([,a])=>a>0).map(([a,r])=>{const n=i?.find(d=>d.id===a);return{id:a,name:n?.name||"",category:n?.category||"",count:r}}).sort((a,r)=>{const n=l.findIndex(j=>j.id===a.category),d=l.findIndex(j=>j.id===r.category);return n!==d?n-d:a.name.localeCompare(r.name)}),[i,l,g]),V=a=>l.find(r=>r.id===a)?.name||"";return c?e.jsxs("div",{className:`rounded-2xl overflow-hidden shadow-lg p-12 flex flex-col items-center justify-center ${t?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsx(re,{className:`w-12 h-12 animate-spin mb-4 ${t?"text-green-500":"text-green-600"}`}),e.jsx("p",{className:`text-lg ${t?"text-gray-300":"text-gray-600"}`,children:"Chargement des ingrédients..."})]}):!i?.length||!l?.length?e.jsxs("div",{className:`rounded-2xl overflow-hidden shadow-lg p-12 text-center ${t?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsx("div",{className:`text-5xl mb-4 ${t?"text-gray-600":"text-gray-400"}`,children:"🥗"}),e.jsx("h2",{className:`text-xl font-semibold mb-2 ${t?"text-white":"text-gray-800"}`,children:"Aucun ingrédient disponible"}),e.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"}`,children:"Veuillez réessayer ultérieurement."})]}):e.jsxs("div",{className:"relative",children:[e.jsx(L,{children:C&&e.jsx(w.div,{initial:{scale:.8,opacity:0},animate:{scale:1.2,opacity:.7},exit:{scale:1.8,opacity:0},transition:{duration:1},className:"absolute inset-0 z-10 pointer-events-none",children:e.jsx("div",{className:`absolute inset-0 rounded-full border-4 ${t?"border-green-600/30":"border-green-500/30"}`})})}),e.jsxs("div",{className:`rounded-2xl overflow-hidden shadow-lg ${t?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsx("div",{className:`p-6 border-b ${t?"border-gray-700 bg-gray-850":"border-gray-100 bg-gray-50"}`,children:e.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 md:flex-row md:items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl md:text-3xl font-bold ${t?"text-white":"text-gray-800"}`,children:"Créez Votre Salade"}),e.jsx("p",{className:`mt-1 ${t?"text-gray-400":"text-gray-600"}`,children:"Composez votre salade parfaite en choisissant vos ingrédients préférés"})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("button",{onClick:()=>F(!$),className:`px-3 py-2 rounded-lg flex items-center gap-2 ${t?"text-white hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(ie,{size:18}),e.jsx("span",{children:"Nutrition"})]})})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row",children:[e.jsxs("div",{className:`w-full lg:w-2/3 lg:border-r lg:min-h-[600px] flex flex-col \${\r
            isDarkMode ? 'border-gray-700' : 'border-gray-100'\r
          }`,children:[e.jsxs("div",{className:"px-6 pt-6",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("div",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:["Étape ",m+1,"/",l.length," - ",M?.name]}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:P?e.jsxs("span",{className:"flex items-center text-green-500",children:[e.jsx(ne,{size:14,className:"mr-1"}),"Complété"]}):e.jsx("span",{className:t?"text-amber-400":"text-amber-600",children:m===0?"* Sélectionnez au moins une base":"Optionnel"})})]}),e.jsx("div",{className:"flex mb-6",children:l.map((a,r)=>e.jsx("button",{onClick:()=>f(r),className:`flex-1 h-2 rounded-full mx-0.5 transition-colors ${m===r?t?"bg-green-600":"bg-green-500":r<m?t?"bg-green-800":"bg-green-200":t?"bg-gray-700":"bg-gray-200"}`},a.id))})]}),e.jsx("div",{className:"flex-1 px-6 pb-6",children:e.jsx(L,{mode:"wait",children:e.jsx(w.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:T.map(a=>e.jsx(be,{ingredient:a,count:g[a.id]||0,onAddIngredient:O,onRemoveIngredient:H},a.id))},M?.id)})}),e.jsxs("div",{className:`p-4 flex justify-between border-t ${t?"border-gray-700 bg-gray-850":"border-gray-100 bg-gray-50"}`,children:[e.jsxs("button",{onClick:G,disabled:m===0,className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ${m===0?t?"text-gray-500":"text-gray-400":t?"text-white hover:bg-gray-700":"text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(le,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Précédent"})]}),e.jsxs("button",{onClick:B,disabled:!P||m===l.length-1,className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ${!P||m===l.length-1?t?"text-gray-500":"text-gray-400":t?"text-white hover:bg-gray-700":"text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:"Suivant"}),e.jsx(z,{size:18})]})]})]}),e.jsx("div",{className:"w-full lg:w-1/3",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:`mb-6 rounded-xl p-4 ${t?"bg-gray-750":"bg-gray-50"}`,children:[e.jsx("h3",{className:`text-lg font-medium mb-3 ${t?"text-white":"text-gray-800"}`,children:"Votre Salade"}),I.length===0?e.jsx("div",{className:`text-sm italic ${t?"text-gray-400":"text-gray-500"}`,children:"Commencez à ajouter des ingrédients..."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4",children:Object.entries(I.reduce((a,r)=>(a[r.category]||(a[r.category]=[]),a[r.category].push(r),a),{})).map(([a,r])=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:`text-xs font-medium mb-1 ${t?"text-gray-400":"text-gray-500"}`,children:[V(a),":"]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:r.map(n=>e.jsxs("div",{className:`px-2 py-1 rounded-md text-xs ${t?"bg-gray-700 text-gray-200":"bg-gray-200 text-gray-800"}`,children:[n.name," ",n.count>1?`× ${n.count}`:""]},n.id))})]},a))}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:`px-2 py-1 rounded-md text-xs font-medium ${t?"bg-gray-700 text-gray-200":"bg-gray-200 text-gray-800"}`,children:[s.count," ingrédients"]}),e.jsxs("div",{className:`px-2 py-1 rounded-md text-xs font-medium ${t?"bg-amber-900/30 text-amber-400":"bg-amber-100 text-amber-700"}`,children:[Math.round(s.calories)," calories"]}),e.jsxs("div",{className:`px-2 py-1 rounded-md text-xs font-medium ${t?"bg-green-900/30 text-green-400":"bg-green-100 text-green-700"}`,children:[Math.round(s.protein),"g protéines"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:`text-lg font-medium mb-3 flex items-center gap-1 ${t?"text-white":"text-gray-800"}`,children:[e.jsx(oe,{size:16,className:t?"text-amber-400":"text-amber-600"}),"Suggestions"]}),e.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2 lg:grid-cols-1",children:u.map(a=>e.jsxs("button",{onClick:()=>R(a),className:`p-3 rounded-lg text-left transition-all ${k===a.id?t?"bg-green-900/30 border border-green-700":"bg-green-100 border border-green-200":t?"hover:bg-gray-750 border border-gray-700":"hover:bg-gray-100 border border-gray-200"}`,children:[e.jsx("div",{className:`font-medium ${t?"text-white":"text-gray-800"}`,children:a.name}),e.jsxs("div",{className:`text-xs mt-1 line-clamp-2 ${t?"text-gray-400":"text-gray-500"}`,children:[[...a.base||[],...a.protein||[],...a.toppings?.slice(0,2)||[]].map(r=>i.find(d=>d.id===r)?.name).filter(Boolean).join(", "),a.toppings&&a.toppings.length>2?"...":""]})]},a.id))})]}),e.jsxs("div",{className:`rounded-xl p-4 ${t?"bg-gray-750":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:`text-lg font-medium ${t?"text-white":"text-gray-800"}`,children:"Total"}),e.jsxs("div",{className:`text-xl font-bold ${t?"text-white":"text-gray-800"}`,children:[s.price.toFixed(2)," €"]})]}),e.jsxs("div",{className:`flex items-center gap-1 mb-4 text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[e.jsx(ce,{size:14}),e.jsx("span",{children:"Temps de préparation: ~10 min"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`text-sm ${t?"text-gray-300":"text-gray-700"}`,children:"Quantité:"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>x(Math.max(1,p-1)),className:`w-8 h-8 flex items-center justify-center rounded-full ${t?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800"}`,children:e.jsx(Z,{size:14})}),e.jsx("span",{className:`mx-4 font-medium w-4 text-center ${t?"text-white":"text-gray-800"}`,children:p}),e.jsx("button",{onClick:()=>x(p+1),className:`w-8 h-8 flex items-center justify-center rounded-full ${t?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800"}`,children:e.jsx(Q,{size:14})})]})]}),e.jsxs("button",{onClick:A,disabled:I.length===0||!P,className:`w-full py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-colors ${I.length===0||!P?t?"bg-gray-700 text-gray-500":"bg-gray-200 text-gray-400":"bg-green-600 hover:bg-green-700 text-white"}`,children:[e.jsx(de,{size:18}),e.jsx("span",{children:"Ajouter au panier"})]})]})]})})]})]}),e.jsx(L,{children:$&&e.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-black/20",onClick:()=>F(!1),children:e.jsx(w.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:30},onClick:a=>a.stopPropagation(),className:`w-full md:max-w-md h-screen overflow-y-auto ${t?"bg-gray-800":"bg-white"} shadow-xl`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-xl font-bold ${t?"text-white":"text-gray-800"}`,children:"Information Nutritionnelle"}),e.jsx("button",{onClick:()=>F(!1),className:`p-2 rounded-full ${t?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:e.jsx("svg",{className:`w-5 h-5 ${t?"text-gray-400":"text-gray-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),I.length===0?e.jsx("div",{className:`text-center py-12 ${t?"text-gray-400":"text-gray-500"}`,children:"Ajoutez des ingrédients pour voir les informations nutritionnelles"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6 rounded-xl p-4 ${t?"bg-gray-750":"bg-gray-50"}`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Calories"}),e.jsx("div",{className:`text-xl font-bold ${t?"text-white":"text-gray-800"}`,children:Math.round(s.calories)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Protéines"}),e.jsxs("div",{className:`text-xl font-bold ${t?"text-white":"text-gray-800"}`,children:[Math.round(s.protein),"g"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Glucides"}),e.jsxs("div",{className:`text-xl font-bold ${t?"text-white":"text-gray-800"}`,children:[Math.round(s.carbs),"g"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Lipides"}),e.jsxs("div",{className:`text-xl font-bold ${t?"text-white":"text-gray-800"}`,children:[Math.round(s.fats),"g"]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:`text-sm font-medium mb-2 ${t?"text-white":"text-gray-800"}`,children:"Répartition des Macronutriments"}),e.jsx("div",{className:"flex h-5 overflow-hidden rounded-full",children:s.protein+s.carbs+s.fats>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-center h-full bg-amber-500",style:{width:`${s.protein/(s.protein+s.carbs+s.fats)*100}%`},children:s.protein>=10&&e.jsxs("span",{className:"px-1 text-xs font-medium text-white",children:[Math.round(s.protein),"g"]})}),e.jsx("div",{className:"flex items-center justify-center h-full bg-blue-500",style:{width:`${s.carbs/(s.protein+s.carbs+s.fats)*100}%`},children:s.carbs>=10&&e.jsxs("span",{className:"px-1 text-xs font-medium text-white",children:[Math.round(s.carbs),"g"]})}),e.jsx("div",{className:"flex items-center justify-center h-full bg-red-500",style:{width:`${s.fats/(s.protein+s.carbs+s.fats)*100}%`},children:s.fats>=10&&e.jsxs("span",{className:"px-1 text-xs font-medium text-white",children:[Math.round(s.fats),"g"]})})]})})]})]})]})})})})]})},ye=()=>e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx(w.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"},className:"w-12 h-12 border-4 border-teal-200 border-t-teal-600 rounded-full"})}),D=[{id:"featured",name:"Featured",icon:"⭐"},{id:"seasonal",name:"Seasonal",icon:"🍂"},{id:"protein",name:"Protein Rich",icon:"💪"},{id:"vegan",name:"Vegan",icon:"🌱"},{id:"light",name:"Light & Fresh",icon:"🥬"},{id:"signature",name:"Signature",icon:"🏆"}],q=[{id:"base",name:"Base",icon:"🥬"},{id:"protein",name:"Protein",icon:"🍗"},{id:"toppings",name:"Toppings",icon:"🥕"},{id:"dressing",name:"Dressing",icon:"🧂"},{id:"extras",name:"Extras",icon:"🧀"}],K=[{id:"laitue",name:"Laitue",category:"base",price:2.99,calories:15,protein:1,carbs:2,fats:0},{id:"romaine",name:"Romaine",category:"base",price:2.99,calories:15,protein:1,carbs:2,fats:0},{id:"rocket",name:"Rocket",category:"base",price:3.49,calories:25,protein:2,carbs:3,fats:0},{id:"chou-vert",name:"Chou Vert",category:"base",price:2.99,calories:25,protein:1,carbs:5,fats:0},{id:"chou-rouge",name:"Chou Rouge",category:"base",price:2.99,calories:25,protein:1,carbs:5,fats:0},{id:"riz",name:"Riz",category:"base",price:2.99,calories:110,protein:2,carbs:23,fats:1},{id:"penne",name:"Penne Sans Gluten",category:"base",price:3.49,calories:150,protein:6,carbs:32,fats:1},{id:"fusilli",name:"Fusilli Sans Gluten",category:"base",price:3.49,calories:150,protein:6,carbs:32,fats:1},{id:"poulet",name:"Poulet Grillé",category:"protein",price:4.99,calories:150,protein:25,carbs:0,fats:6},{id:"thon",name:"Thon",category:"protein",price:5.99,calories:140,protein:24,carbs:0,fats:5},{id:"oeuf",name:"Œuf Dur",category:"protein",price:1.99,calories:70,protein:6,carbs:1,fats:5},{id:"tomate-cerise",name:"Tomates Cerises",category:"toppings",price:.99,calories:25,protein:1,carbs:5,fats:0},{id:"poivron",name:"Poivron",category:"toppings",price:.99,calories:20,protein:1,carbs:4,fats:0},{id:"oignon",name:"Oignon",category:"toppings",price:.79,calories:10,protein:0,carbs:2,fats:0},{id:"pomme-de-terre",name:"Pomme de Terre",category:"toppings",price:1.29,calories:90,protein:2,carbs:20,fats:0},{id:"haricot-vert",name:"Haricots Verts",category:"toppings",price:1.29,calories:30,protein:2,carbs:6,fats:0},{id:"carotte",name:"Carotte",category:"toppings",price:.99,calories:30,protein:1,carbs:7,fats:0},{id:"concombre",name:"Concombre",category:"toppings",price:.99,calories:15,protein:0,carbs:3,fats:0},{id:"avocat",name:"Avocat",category:"toppings",price:1.99,calories:80,protein:1,carbs:4,fats:7},{id:"mais",name:"Maïs",category:"toppings",price:.99,calories:80,protein:2,carbs:18,fats:1},{id:"huile-olive",name:"Huile d'Olive",category:"dressing",price:.99,calories:90,protein:0,carbs:0,fats:10},{id:"vinaigre-balsamique",name:"Vinaigre Balsamique",category:"dressing",price:.99,calories:30,protein:0,carbs:6,fats:0},{id:"mayo",name:"Mayonnaise",category:"dressing",price:.99,calories:100,protein:0,carbs:1,fats:11},{id:"ketchup",name:"Ketchup",category:"dressing",price:.99,calories:40,protein:0,carbs:10,fats:0},{id:"moutarde",name:"Moutarde",category:"dressing",price:.99,calories:30,protein:1,carbs:2,fats:2},{id:"citron",name:"Jus de Citron",category:"dressing",price:.79,calories:5,protein:0,carbs:1,fats:0},{id:"fromage-rouge",name:"Fromage Rouge",category:"extras",price:1.49,calories:70,protein:5,carbs:0,fats:6},{id:"gouda",name:"Gouda",category:"extras",price:1.49,calories:80,protein:6,carbs:0,fats:6},{id:"gruyere",name:"Gruyère",category:"extras",price:1.79,calories:85,protein:7,carbs:0,fats:6},{id:"camembert",name:"Camembert",category:"extras",price:1.79,calories:85,protein:5,carbs:0,fats:7},{id:"greek",name:"Fromage Grec",category:"extras",price:1.49,calories:70,protein:4,carbs:1,fats:6},{id:"noix",name:"Noix",category:"extras",price:1.49,calories:100,protein:2,carbs:2,fats:10},{id:"anchois",name:"Anchois",category:"extras",price:1.49,calories:60,protein:8,carbs:0,fats:3},{id:"capres",name:"Câpres",category:"extras",price:1.29,calories:25,protein:1,carbs:1,fats:0},{id:"olive-noir",name:"Olives Noires",category:"extras",price:1.29,calories:45,protein:0,carbs:2,fats:4},{id:"olive-violet",name:"Olives Kalamata",category:"extras",price:1.49,calories:45,protein:0,carbs:2,fats:4},{id:"croutons",name:"Croûtons",category:"extras",price:.99,calories:80,protein:2,carbs:12,fats:3}],je=[{id:1,name:"Méditerranéenne",description:"Un mélange frais avec fromage grec, olives et notre vinaigrette signature",price:12.99,image:"hero.jpeg",calories:380,category:"featured",tags:["vegetarian","mediterranean"],ingredients:["Romaine","Fromage Grec","Olives Kalamata","Tomates Cerises","Oignon","Concombre"],nutritionFacts:{protein:12,carbs:15,fats:22}},{id:2,name:"Salade Fusilli",description:"Pâtes sans gluten avec légumes croquants et vinaigrette balsamique",price:13.99,image:"hero.jpeg",calories:420,category:"signature",tags:["gluten-free","vegetarian"],ingredients:["Fusilli Sans Gluten","Tomates Cerises","Poivron","Maïs","Concombre","Gouda"],nutritionFacts:{protein:15,carbs:48,fats:18}},{id:3,name:"Verte Gourmande",description:"Mélange de verdure avec avocat et vinaigrette légère au citron",price:14.99,image:"hero.jpeg",calories:380,category:"vegan",tags:["vegan","detox"],ingredients:["Rocket","Laitue","Avocat","Concombre","Haricots Verts","Noix"],nutritionFacts:{protein:10,carbs:18,fats:28}},{id:4,name:"Salade du Chef",description:"Notre salade signature avec œuf, fromage et vinaigrette maison",price:11.99,image:"hero.jpeg",calories:420,category:"signature",tags:["vegetarian","chef-special"],ingredients:["Laitue","Œuf Dur","Gruyère","Tomates Cerises","Carotte","Croûtons"],nutritionFacts:{protein:18,carbs:20,fats:25}},{id:5,name:"Protéinée au Poulet",description:"Riche en protéines avec poulet grillé et œuf",price:15.99,image:"hero.jpeg",calories:520,category:"protein",tags:["high-protein","hearty"],ingredients:["Romaine","Poulet Grillé","Œuf Dur","Tomates Cerises","Maïs","Fromage Rouge"],nutritionFacts:{protein:42,carbs:18,fats:24}},{id:6,name:"Océane au Thon",description:"Salade fraîche au thon avec câpres et citron",price:13.99,image:"hero.jpeg",calories:360,category:"protein",tags:["seafood","light"],ingredients:["Laitue","Thon","Câpres","Oignon","Tomates Cerises","Olives Noires"],nutritionFacts:{protein:28,carbs:14,fats:18}},{id:7,name:"Complète aux Pommes de Terre",description:"Salade généreuse avec pommes de terre et fromage",price:14.49,image:"hero.jpeg",calories:460,category:"signature",tags:["hearty","vegetarian"],ingredients:["Romaine","Pomme de Terre","Camembert","Oignon","Haricots Verts","Noix"],nutritionFacts:{protein:15,carbs:40,fats:22}},{id:8,name:"Printanière",description:"Mélange coloré de légumes de saison avec vinaigrette légère",price:13.99,image:"hero.jpeg",calories:310,category:"seasonal",tags:["vegan","light"],ingredients:["Chou Vert","Carotte","Concombre","Poivron","Maïs","Avocat"],nutritionFacts:{protein:8,carbs:30,fats:16}},{id:9,name:"Caesar Moderne",description:"Notre version revisitée de la Caesar avec anchois et croûtons maison",price:13.99,image:"hero.jpeg",calories:390,category:"featured",tags:["classic","popular"],ingredients:["Romaine","Poulet Grillé","Anchois","Croûtons","Parmesan","Œuf Dur"],nutritionFacts:{protein:32,carbs:22,fats:18}}],W=[{id:"mediterraneenne",name:"Méditerranéenne",base:["romaine","rocket"],protein:["oeuf"],toppings:["tomate-cerise","concombre","oignon"],dressing:["huile-olive","citron"],extras:["greek","olive-violet"]},{id:"protein-boost",name:"Boost Protéiné",base:["laitue","riz"],protein:["poulet","oeuf"],toppings:["avocat","poivron","mais"],dressing:["huile-olive","citron"],extras:["gruyere"]},{id:"vegan-delight",name:"Délice Végétal",base:["chou-vert","rocket"],protein:[],toppings:["tomate-cerise","avocat","carotte","concombre"],dressing:["vinaigre-balsamique","huile-olive"],extras:["noix"]},{id:"ocean-twist",name:"Parfum d'Océan",base:["laitue","romaine"],protein:["thon"],toppings:["concombre","tomate-cerise","oignon"],dressing:["citron","huile-olive"],extras:["capres","olive-noir"]},{id:"pasta-salad",name:"Salade de Pâtes",base:["fusilli"],protein:["poulet"],toppings:["tomate-cerise","poivron","mais","haricot-vert"],dressing:["mayo","moutarde"],extras:["gouda","olive-noir"]}],ve=i=>{let l=[];switch(i){case"protein":l=["grilled-chicken","eggs","salmon","seeds","quinoa"];break;case"low-cal":l=["spinach","cucumbers","tomatoes","lemon-olive","mixed-greens"];break;case"balanced":default:l=["romaine","grilled-chicken","avocado","balsamic","walnuts"]}return K.filter(u=>l.includes(u.id))};function Se(){const[i,l]=o.useState("featured"),[u,b]=o.useState(0),[c,t]=o.useState(!0),[m,f]=o.useState(!1),[g,y]=o.useState("premade"),[p,x]=o.useState([]),[k,v]=o.useState("base"),[S,h]=o.useState({ingredients:{},name:"My Custom Salad"}),[C,N]=o.useState([]),[$,F]=o.useState(null),[s,M]=o.useState(!1),[T,P]=o.useState("balanced");o.useEffect(()=>{const r=setTimeout(()=>t(!1),1e3);return()=>clearTimeout(r)},[]);const R=o.useMemo(()=>je.filter(r=>r.category===i||i==="featured"),[i]),O=o.useCallback(r=>{h(n=>{const d=n.ingredients[r]||0;return{...n,ingredients:{...n.ingredients,[r]:d+1}}})},[]),H=o.useCallback(()=>{b(r=>r+1)},[]),A=o.useCallback(r=>Object.entries(S.ingredients).filter(([n])=>K.find(d=>d.id===n)?.category===r).reduce((n,[,d])=>n+d,0),[S.ingredients]),B=o.useCallback(r=>{x(n=>n.includes(r)?n.filter(d=>d!==r):[...n,r])},[]),G=o.useCallback(r=>{h({name:r.name,ingredients:{...r.ingredients}})},[]),I=o.useCallback(r=>{N(n=>n.filter(d=>d.id!==r))},[]),V=o.useCallback(r=>{const n=W.find(E=>E.id===r);if(!n)return;const d={},j=E=>{E.forEach(J=>{d[J]=1})};j(n.base),j(n.protein),j(n.toppings),j(n.dressing),j(n.extras),h({name:n.name,ingredients:d}),F(r),M(!1)},[]),a=o.useCallback((r,n,d)=>{b(j=>j+1),h({name:r==="custom-salad"?"My Custom Salad":r,ingredients:d})},[]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 via-emerald-50 to-green-50",children:[e.jsx(_,{cartItems:u,scrolled:!1}),e.jsx(xe,{mobileMenuOpen:m,activeTab:g,setActiveTab:y,selectedCategory:i,setSelectedCategory:l,selectedIngredientCategory:k,setSelectedIngredientCategory:v,menuCategories:D,ingredientCategories:q,getIngredientCounts:A,setMobileMenuOpen:f}),e.jsx(me,{activeTab:g,setActiveTab:y}),e.jsx("main",{className:"px-2 pt-4 pb-16 mx-auto max-w-7xl sm:px-4 lg:px-8 sm:pb-20 sm:pt-6",children:e.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[e.jsx(ge,{activeTab:g,selectedCategory:i,setSelectedCategory:l,selectedIngredientCategory:k,setSelectedIngredientCategory:v,menuCategories:D,ingredientCategories:q,getIngredientCounts:A,savedCustomSalads:C,loadSavedSalad:G,deleteSavedSalad:I,showSuggestions:s,setShowSuggestions:M,recommendationType:T,setRecommendationType:P,suggestedCombinations:W,applySuggestedCombination:V,selectedCombination:$,getRecommendedIngredients:()=>ve(T),handleAddIngredient:O}),e.jsxs("div",{className:"flex-1",children:[e.jsx(L,{children:c&&e.jsx(ye,{})}),!c&&e.jsxs(e.Fragment,{children:[g==="premade"&&e.jsxs(e.Fragment,{children:[e.jsxs(w.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6 text-2xl font-bold text-gray-800",children:["Our ",i==="featured"?"Featured":D.find(r=>r.id===i)?.name," Salads"]}),e.jsx(ue,{salads:R,favorites:p,toggleFavorite:B,handleAddToCart:H})]}),g==="custom"&&e.jsx(fe,{ingredients:K,ingredientCategories:q,suggestedCombinations:W,onAddToCart:a,isLoading:c})]})]})]})})]})}export{Se as default};
