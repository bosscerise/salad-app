import{j as e,m as c,A as j}from"./animations-C7mpbJ_1.js";import{r as a,L as n}from"./vendor-Cf8TOEbQ.js";import{T as E,u as M}from"./index-igdoIp_p.js";import{f as u,g as f,e as y,U as b,h as N,i as L}from"./ui-C7tV8lXm.js";function R({title:l,titleId:s,...i},o){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),l?a.createElement("title",{id:s},l):null,a.createElement("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const H=a.forwardRef(R);function O({title:l,titleId:s,...i},o){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),l?a.createElement("title",{id:s},l):null,a.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const T=a.forwardRef(O),A=()=>{const l=a.useContext(E);if(l===void 0)throw new Error("useTheme must be used within a ThemeProvider");return l},$=[{name:"Home",href:"/"},{name:"Menu",href:"/menu"},{name:"About",href:"#about"},{name:"Rewards",href:"/rewards"},{name:"Contact",href:"#contact"}];function X({scrolled:l=!1,cartItems:s=0}){const[i,o]=a.useState(!1),[d,g]=a.useState(!1),[p,k]=a.useState(l),{isAuthenticated:x,user:v,logout:S}=M(),{isDarkMode:t,toggleTheme:m}=A(),h=v?.name||"User";a.useEffect(()=>{const r=()=>{k(window.scrollY>20)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),a.useEffect(()=>{if(d){const r=C=>{C.target.closest(".user-menu-container")||g(!1)};return document.addEventListener("click",r),()=>document.removeEventListener("click",r)}},[d]);const w=async()=>{try{S(),g(!1)}catch(r){console.error("Logout failed",r)}};return e.jsxs("header",{className:`sticky top-0 left-0 w-full z-50 transition-all duration-300 ${p?"py-2":"py-4"} ${t?"dark":""}`,children:[e.jsx("div",{className:`absolute inset-0 ${t?"bg-gradient-to-r from-gray-900/95 via-gray-800/95 to-gray-900/95":"bg-gradient-to-r from-amber-50/95 via-emerald-50/95 to-amber-50/95"} backdrop-blur-md shadow-lg transition-all duration-300 ${p?"opacity-95":"opacity-85"}`}),e.jsxs("nav",{className:"relative flex items-center justify-between h-full px-4 mx-auto sm:px-6 lg:px-8 max-w-7xl",children:[e.jsx("div",{className:"flex lg:flex-1",children:e.jsxs(n,{to:"/",className:"group -m-1.5 p-1.5 flex items-center gap-2",children:[e.jsx("span",{className:`text-xl sm:text-2xl font-bold ${t?"bg-gradient-to-r from-red-400 to-green-400":"bg-gradient-to-r from-red-600 to-green-600"} text-transparent bg-clip-text transform transition-all duration-300 group-hover:scale-105`,children:"Salad Shark"}),e.jsx("span",{className:"text-xl transition-all duration-300 transform sm:text-2xl group-hover:rotate-12",children:"ðŸ¥—"})]})}),e.jsxs("div",{className:"flex lg:hidden",children:[e.jsx("button",{onClick:m,className:`p-2 mr-2 ${t?"text-gray-200 hover:bg-gray-700/50":"text-green-800 hover:bg-red-100"} rounded-lg transition-all duration-300`,"aria-label":t?"Switch to light mode":"Switch to dark mode",children:t?e.jsx(u,{className:"w-5 h-5"}):e.jsx(f,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>o(!0),className:`p-2 ${t?"text-gray-200 hover:bg-gray-700/50":"text-green-800 hover:bg-red-100"} rounded-lg transition-all duration-300`,"aria-label":"Open menu",children:e.jsx(H,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"hidden lg:flex lg:gap-x-8",children:$.map(r=>e.jsxs(n,{to:r.href,className:`relative text-sm font-medium ${t?"text-gray-300 hover:text-white":"text-green-800 hover:text-red-700"} transition-colors duration-300 py-2`,children:[r.name,e.jsx("span",{className:`absolute bottom-0 left-0 w-full h-0.5 ${t?"bg-red-500":"bg-green-600"} transform scale-x-0 transition-transform duration-300 origin-left hover:scale-x-100`})]},r.name))}),e.jsxs("div",{className:"hidden lg:flex lg:flex-1 lg:justify-end lg:items-center lg:space-x-4",children:[e.jsx(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,className:`p-2 rounded-full ${t?"bg-gradient-to-r from-gray-700/50 to-gray-600/50 hover:from-gray-600/50 hover:to-gray-500/50":"bg-gradient-to-r from-green-100 to-red-100 hover:from-green-200 hover:to-red-200"} transition-colors`,"aria-label":t?"Switch to light mode":"Switch to dark mode",children:t?e.jsx(u,{className:"w-5 h-5 text-yellow-400"}):e.jsx(f,{className:"w-5 h-5 text-gray-700"})}),e.jsxs(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative p-2 rounded-full ${t?"bg-gradient-to-r from-gray-700/50 to-gray-600/50 hover:from-gray-600/50 hover:to-gray-500/50":"bg-gradient-to-r from-green-100 to-red-100 hover:from-green-200 hover:to-red-200"} transition-colors`,children:[e.jsx(y,{className:`w-5 h-5 ${t?"text-gray-200":"text-gray-700"}`}),e.jsx(j,{children:s>0&&e.jsx(c.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:`absolute -top-1 -right-1 w-5 h-5 text-xs font-bold flex items-center justify-center ${t?"bg-red-500 text-white":"bg-green-600 text-white"} rounded-full`,children:s})})]}),x?e.jsxs("div",{className:"relative user-menu-container",children:[e.jsxs(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r=>{r.stopPropagation(),g(!d)},className:`flex items-center space-x-2 py-1 px-3 rounded-full ${t?"bg-gradient-to-r from-gray-700/50 to-gray-600/50 hover:from-gray-600/50 hover:to-gray-500/50":"bg-gradient-to-r from-green-100 to-red-100 hover:from-green-200 hover:to-red-200"} transition-colors`,children:[e.jsx("span",{className:`text-sm font-medium ${t?"text-gray-200":"text-gray-700"}`,children:h}),e.jsx(b,{className:`w-4 h-4 ${t?"text-gray-200":"text-gray-700"}`})]}),e.jsx(j,{children:d&&e.jsxs(c.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`absolute right-0 mt-2 w-48 py-2 ${t?"bg-gray-800":"bg-white"} rounded-lg shadow-xl z-20`,children:[e.jsxs("div",{className:`px-4 py-2 border-b ${t?"border-gray-700":"border-gray-100"}`,children:[e.jsx("p",{className:`text-sm font-medium ${t?"text-gray-200":"text-gray-900"}`,children:h}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:v?.email})]}),e.jsxs(n,{to:"/profile",className:`block px-4 py-2 text-sm ${t?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"} flex items-center`,children:[e.jsx(b,{className:"w-4 h-4 mr-2"})," My Profile"]}),e.jsxs(n,{to:"/orders",className:`block px-4 py-2 text-sm ${t?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"} flex items-center`,children:[e.jsx(y,{className:"w-4 h-4 mr-2"})," My Orders"]}),e.jsxs("button",{onClick:w,className:`w-full text-left px-4 py-2 text-sm ${t?"text-red-400 hover:bg-gray-700":"text-red-600 hover:bg-gray-100"} flex items-center`,children:[e.jsx(N,{className:"w-4 h-4 mr-2"})," Sign out"]})]})})]}):e.jsxs(n,{to:"/auth",className:`relative px-6 py-2.5 rounded-full ${t?"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white":"bg-gradient-to-r from-emerald-600 to-lime-600 text-white"} font-semibold overflow-hidden transition-all duration-300 hover:shadow-lg ${t?"hover:shadow-emerald-500/20":"hover:shadow-emerald-600/20"} hover:-translate-y-0.5 flex items-center`,children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"relative z-10",children:"Sign In"}),e.jsx("div",{className:`absolute inset-0 ${t?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-green-700 to-green-800"} transform scale-x-0 transition-transform duration-300 origin-left hover:scale-x-100`})]})]})]}),e.jsxs("div",{className:`fixed inset-0 z-50 transition-all duration-300 ${i?"opacity-100 visible":"opacity-0 invisible"}`,children:[e.jsx("div",{className:"fixed inset-0 bg-black/80",onClick:()=>o(!1)}),e.jsxs("div",{className:`fixed inset-y-0 right-0 w-full sm:max-w-sm ${t?"bg-gray-900":"bg-white"} p-6 transform transition-transform duration-300 ease-in-out`,style:{transform:i?"translateX(0)":"translateX(100%)"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-2xl font-bold ${t?"text-gray-100":"text-gray-800"}`,children:"Salad Shark"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:m,className:`p-2 rounded-full ${t?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"} transition-colors`,children:t?e.jsx(u,{className:"w-5 h-5"}):e.jsx(f,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-full ${t?"bg-red-600 text-white hover:bg-red-500":"bg-green-600 text-white hover:bg-green-500"} transition-colors`,onClick:()=>o(!1),"aria-label":"Close menu",children:e.jsx(T,{className:"w-6 h-6"})})]})]}),x&&e.jsx("div",{className:`mt-6 py-3 px-4 ${t?"bg-gray-800":"bg-gray-100"} rounded-lg`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full ${t?"bg-gray-700":"bg-white border border-gray-200"} flex items-center justify-center`,children:e.jsx(b,{className:`w-6 h-6 ${t?"text-gray-300":"text-gray-600"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:`${t?"text-gray-200":"text-gray-800"} font-medium`,children:h}),e.jsxs("button",{onClick:w,className:`text-sm ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} flex items-center`,children:[e.jsx(N,{className:"w-3 h-3 mr-1"})," Sign out"]})]})]})}),e.jsxs("div",{className:`mt-4 flex items-center justify-between py-3 px-4 ${t?"bg-gray-800":"bg-gray-100"} rounded-lg`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{className:`w-5 h-5 ${t?"text-gray-200":"text-gray-700"}`}),e.jsx("span",{className:`${t?"text-gray-200":"text-gray-800"}`,children:s>0?`${s} item${s>1?"s":""}`:"Cart empty"})]}),s>0&&e.jsx(n,{to:"/cart",className:`text-xs py-1 px-3 ${t?"bg-red-500 text-white":"bg-green-600 text-white"} rounded-full font-medium`,onClick:()=>o(!1),children:"View"})]}),e.jsxs("nav",{className:"mt-8 space-y-4",children:[$.map(r=>e.jsx(n,{to:r.href,className:`block py-2 px-4 rounded-lg ${t?"hover:bg-gray-800 text-gray-300":"hover:bg-gray-100 text-gray-800"} transition-colors`,onClick:()=>o(!1),children:r.name},r.name)),!x&&e.jsx(n,{to:"/auth",className:`block mt-6 text-center py-3 px-4 rounded-full ${t?"bg-red-600 text-white hover:bg-red-500":"bg-green-600 text-white hover:bg-green-500"} font-semibold transition-colors`,onClick:()=>o(!1),children:"Sign In"})]})]})]})]})}export{X as H,A as u};
