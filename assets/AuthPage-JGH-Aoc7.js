import{j as e,m as S}from"./animations-C7mpbJ_1.js";import{r as t,u as F,e as P}from"./vendor-Cf8TOEbQ.js";import{u as j}from"./index-igdoIp_p.js";import{j as y,E as w,k as N,l as C,A as k,m as z}from"./ui-C7tV8lXm.js";const A=()=>{const[a,m]=t.useState(!0),l=F().state?.from?.pathname||"/";return e.jsxs("div",{className:"relative flex items-center justify-center min-h-screen p-4 bg-gradient-to-br from-green-50 to-blue-50",children:[e.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2322c55e' fill-opacity='0.2'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsx("div",{className:"z-10 w-full max-w-md",children:e.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"overflow-hidden bg-white shadow-xl rounded-xl",children:[e.jsxs("div",{className:"flex divide-x divide-gray-200",children:[e.jsx("button",{onClick:()=>m(!0),className:`flex-1 py-4 text-center font-medium text-sm sm:text-base transition-colors ${a?"bg-emerald-50 text-emerald-700":"text-gray-500 hover:text-emerald-600"}`,children:"Sign In"}),e.jsx("button",{onClick:()=>m(!1),className:`flex-1 py-4 text-center font-medium text-sm sm:text-base transition-colors ${a?"text-gray-500 hover:text-emerald-600":"bg-emerald-50 text-emerald-700"}`,children:"Register"})]}),e.jsx("div",{className:"p-6 sm:p-8",children:a?e.jsx(q,{redirectPath:l}):e.jsx(L,{setIsLogin:m})})]})})]})},q=({redirectPath:a})=>{const{login:m,isLoading:c}=j(),l=P(),[u,s]=t.useState(!1),[o,p]=t.useState({email:"",password:"",remember:!0}),[d,x]=t.useState(null),h=g=>{const{id:r,value:n,type:f,checked:b}=g.target;p(v=>({...v,[r]:f==="checkbox"?b:n}))},i=async g=>{g.preventDefault(),x(null);try{await m(o.email,o.password,o.remember),l(a)}catch(r){const n=r instanceof Error?r.message:"Failed to sign in. Please check your credentials.";x(n)}};return e.jsxs("form",{onSubmit:i,className:"space-y-5",children:[d&&e.jsxs("div",{className:"flex items-start p-3 text-sm text-red-700 rounded-lg bg-red-50",children:[e.jsx(y,{className:"min-w-5 h-5 mr-2 mt-0.5"}),e.jsx("span",{children:d})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block mb-1 text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:o.email,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",placeholder:"you@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block mb-1 text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u?"text":"password",id:"password",value:o.password,onChange:h,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",placeholder:"••••••••",required:!0}),e.jsx("button",{type:"button",onClick:()=>s(!u),className:"absolute text-gray-400 -translate-y-1/2 right-3 top-1/2 hover:text-gray-600",children:u?e.jsx(w,{size:18}):e.jsx(N,{size:18})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"remember",checked:o.remember,onChange:h,className:"w-4 h-4 border-gray-300 rounded text-emerald-600 focus:ring-emerald-500"}),e.jsx("label",{htmlFor:"remember",className:"block ml-2 text-sm text-gray-700",children:"Remember me"})]}),e.jsx("a",{href:"#",className:"text-sm font-medium text-emerald-600 hover:text-emerald-500",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full flex items-center justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-all",children:c?e.jsx(C,{className:"w-5 h-5 animate-spin"}):e.jsxs(e.Fragment,{children:["Sign in",e.jsx(k,{className:"w-4 h-4 ml-2"})]})})]})},L=({setIsLogin:a})=>{const{register:m,isLoading:c}=j(),[l,u]=t.useState(!1),[s,o]=t.useState({firstName:"",lastName:"",email:"",password:"",passwordConfirm:"",terms:!1}),[p,d]=t.useState(null),[x,h]=t.useState(!1);t.useEffect(()=>{let r;return x&&(r=window.setTimeout(()=>{a(!0)},2e3)),()=>{r&&clearTimeout(r)}},[x,a]);const i=r=>{const{id:n,value:f,type:b,checked:v}=r.target;o(E=>({...E,[n]:b==="checkbox"?v:f}))},g=async r=>{if(r.preventDefault(),d(null),s.password!==s.passwordConfirm){d("Passwords don't match");return}if(!s.terms){d("You must agree to the Terms of Service");return}try{await m({email:s.email,password:s.password,passwordConfirm:s.passwordConfirm,name:`${s.firstName} ${s.lastName}`.trim()}),h(!0)}catch(n){const f=n instanceof Error?n.message:"Registration failed";d(f)}};return x?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 mb-4 bg-green-100 rounded-full",children:e.jsx(z,{className:"w-10 h-10 text-green-500"})}),e.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Registration successful!"}),e.jsx("p",{className:"mb-4 text-gray-600",children:"Your account has been created."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to login..."})]}):e.jsxs("form",{onSubmit:g,className:"space-y-5",children:[p&&e.jsxs("div",{className:"flex items-start p-3 text-sm text-red-700 rounded-lg bg-red-50",children:[e.jsx(y,{className:"min-w-5 h-5 mr-2 mt-0.5"}),e.jsx("span",{children:p})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block mb-1 text-sm font-medium text-gray-700",children:"First name"}),e.jsx("input",{type:"text",id:"firstName",value:s.firstName,onChange:i,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block mb-1 text-sm font-medium text-gray-700",children:"Last name"}),e.jsx("input",{type:"text",id:"lastName",value:s.lastName,onChange:i,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block mb-1 text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:s.email,onChange:i,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",placeholder:"you@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block mb-1 text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",id:"password",value:s.password,onChange:i,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",required:!0,minLength:8}),e.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute text-gray-400 -translate-y-1/2 right-3 top-1/2 hover:text-gray-600",children:l?e.jsx(w,{size:18}):e.jsx(N,{size:18})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"passwordConfirm",className:"block mb-1 text-sm font-medium text-gray-700",children:"Confirm password"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:l?"text":"password",id:"passwordConfirm",value:s.passwordConfirm,onChange:i,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",required:!0})})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"terms",type:"checkbox",checked:s.terms,onChange:i,className:"w-4 h-4 border-gray-300 rounded text-emerald-600 focus:ring-emerald-500",required:!0})}),e.jsx("div",{className:"ml-3",children:e.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-600",children:["I agree to the ",e.jsx("a",{href:"#",className:"text-emerald-600 hover:text-emerald-500",children:"Terms of Service"})," and ",e.jsx("a",{href:"#",className:"text-emerald-600 hover:text-emerald-500",children:"Privacy Policy"})]})})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full flex items-center justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-all",children:c?e.jsx(C,{className:"w-5 h-5 animate-spin"}):e.jsxs(e.Fragment,{children:["Create account",e.jsx(k,{className:"w-4 h-4 ml-2"})]})})]})};export{A as default};
