import{r,j as e,T as Z,u as V,L as w}from"./index-C3bNS5ZP.js";import{c as N,M as X,u as I,P as D,a as F,b as W,L as K,m as k}from"./proxy-DM99Ik6c.js";function q({title:o,titleId:a,...s},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},s),o?r.createElement("title",{id:a},o):null,r.createElement("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const G=r.forwardRef(q);function Y({title:o,titleId:a,...s},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},s),o?r.createElement("title",{id:a},o):null,r.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const J=r.forwardRef(Y);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],ee=N("LogIn",Q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],T=N("LogOut",te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],L=N("Moon",re);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],R=N("ShoppingBag",se);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],P=N("Sun",ae);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],z=N("User",ne);class oe extends r.Component{getSnapshotBeforeUpdate(a){const s=this.props.childRef.current;if(s&&a.isPresent&&!this.props.isPresent){const n=s.offsetParent,m=n instanceof HTMLElement&&n.offsetWidth||0,l=this.props.sizeRef.current;l.height=s.offsetHeight||0,l.width=s.offsetWidth||0,l.top=s.offsetTop,l.left=s.offsetLeft,l.right=m-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function le({children:o,isPresent:a,anchorX:s}){const n=r.useId(),m=r.useRef(null),l=r.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=r.useContext(X);return r.useInsertionEffect(()=>{const{width:v,height:c,top:x,left:d,right:t}=l.current;if(a||!m.current||!v||!c)return;const g=s==="left"?`left: ${d}`:`right: ${t}`;m.current.dataset.motionPopId=n;const h=document.createElement("style");return f&&(h.nonce=f),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${c}px !important;
            ${g}px !important;
            top: ${x}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[a]),e.jsx(oe,{isPresent:a,childRef:m,sizeRef:l,children:r.cloneElement(o,{ref:m})})}const ie=({children:o,initial:a,isPresent:s,onExitComplete:n,custom:m,presenceAffectsLayout:l,mode:f,anchorX:v})=>{const c=I(ce),x=r.useId(),d=r.useCallback(g=>{c.set(g,!0);for(const h of c.values())if(!h)return;n&&n()},[c,n]),t=r.useMemo(()=>({id:x,initial:a,isPresent:s,custom:m,onExitComplete:d,register:g=>(c.set(g,!1),()=>c.delete(g))}),l?[Math.random(),d]:[s,d]);return r.useMemo(()=>{c.forEach((g,h)=>c.set(h,!1))},[s]),r.useEffect(()=>{!s&&!c.size&&n&&n()},[s]),f==="popLayout"&&(o=e.jsx(le,{isPresent:s,anchorX:v,children:o})),e.jsx(D.Provider,{value:t,children:o})};function ce(){return new Map}const $=o=>o.key||"";function O(o){const a=[];return r.Children.forEach(o,s=>{r.isValidElement(s)&&a.push(s)}),a}const A=({children:o,custom:a,initial:s=!0,onExitComplete:n,presenceAffectsLayout:m=!0,mode:l="sync",propagate:f=!1,anchorX:v="left"})=>{const[c,x]=F(f),d=r.useMemo(()=>O(o),[o]),t=f&&!c?[]:d.map($),g=r.useRef(!0),h=r.useRef(d),y=I(()=>new Map),[i,C]=r.useState(d),[b,H]=r.useState(d);W(()=>{g.current=!1,h.current=d;for(let p=0;p<b.length;p++){const u=$(b[p]);t.includes(u)?y.delete(u):y.get(u)!==!0&&y.set(u,!1)}},[b,t.length,t.join("-")]);const M=[];if(d!==i){let p=[...d];for(let u=0;u<b.length;u++){const j=b[u],S=$(j);t.includes(S)||(p.splice(u,0,j),M.push(j))}return l==="wait"&&M.length&&(p=M),H(O(p)),C(d),null}const{forceRender:E}=r.useContext(K);return e.jsx(e.Fragment,{children:b.map(p=>{const u=$(p),j=f&&!c?!1:d===b||t.includes(u),S=()=>{if(y.has(u))y.set(u,!0);else return;let _=!0;y.forEach(U=>{U||(_=!1)}),_&&(E==null||E(),H(h.current),f&&(x==null||x()),n&&n())};return e.jsx(ie,{isPresent:j,initial:!g.current||s?void 0:!1,custom:a,presenceAffectsLayout:m,mode:l,onExitComplete:j?void 0:S,anchorX:v,children:p},u)})})},de=()=>{const o=r.useContext(Z);if(o===void 0)throw new Error("useTheme must be used within a ThemeProvider");return o},B=[{name:"Home",href:"/"},{name:"Menu",href:"/menu"},{name:"About",href:"#about"},{name:"Rewards",href:"/rewards"},{name:"Contact",href:"#contact"}];function xe({scrolled:o=!1,cartItems:a=0}){const[s,n]=r.useState(!1),[m,l]=r.useState(!1),[f,v]=r.useState(o),{isAuthenticated:c,user:x,logout:d}=V(),{isDarkMode:t,toggleTheme:g}=de(),h=(x==null?void 0:x.name)||"User";r.useEffect(()=>{const i=()=>{v(window.scrollY>20)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),r.useEffect(()=>{if(m){const i=C=>{C.target.closest(".user-menu-container")||l(!1)};return document.addEventListener("click",i),()=>document.removeEventListener("click",i)}},[m]);const y=async()=>{try{d(),l(!1)}catch(i){console.error("Logout failed",i)}};return e.jsxs("header",{className:`sticky top-0 left-0 w-full z-50 transition-all duration-300 ${f?"py-2":"py-4"} ${t?"dark":""}`,children:[e.jsx("div",{className:`absolute inset-0 ${t?"bg-gradient-to-r from-gray-900/95 via-gray-800/95 to-gray-900/95":"bg-gradient-to-r from-amber-50/95 via-emerald-50/95 to-amber-50/95"} backdrop-blur-md shadow-lg transition-all duration-300 ${f?"opacity-95":"opacity-85"}`}),e.jsxs("nav",{className:"relative flex items-center justify-between h-full px-4 mx-auto sm:px-6 lg:px-8 max-w-7xl",children:[e.jsx("div",{className:"flex lg:flex-1",children:e.jsxs(w,{to:"/",className:"group -m-1.5 p-1.5 flex items-center gap-2",children:[e.jsx("span",{className:`text-xl sm:text-2xl font-bold ${t?"bg-gradient-to-r from-red-400 to-green-400":"bg-gradient-to-r from-red-600 to-green-600"} text-transparent bg-clip-text transform transition-all duration-300 group-hover:scale-105`,children:"Salad Shark"}),e.jsx("span",{className:"text-xl transition-all duration-300 transform sm:text-2xl group-hover:rotate-12",children:"ðŸ¥—"})]})}),e.jsxs("div",{className:"flex lg:hidden",children:[e.jsx("button",{onClick:g,className:`p-2 mr-2 ${t?"text-gray-200 hover:bg-gray-700/50":"text-green-800 hover:bg-red-100"} rounded-lg transition-all duration-300`,"aria-label":t?"Switch to light mode":"Switch to dark mode",children:t?e.jsx(P,{className:"w-5 h-5"}):e.jsx(L,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>n(!0),className:`p-2 ${t?"text-gray-200 hover:bg-gray-700/50":"text-green-800 hover:bg-red-100"} rounded-lg transition-all duration-300`,"aria-label":"Open menu",children:e.jsx(G,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"hidden lg:flex lg:gap-x-8",children:B.map(i=>e.jsxs(w,{to:i.href,className:`relative text-sm font-medium ${t?"text-gray-300 hover:text-white":"text-green-800 hover:text-red-700"} transition-colors duration-300 py-2`,children:[i.name,e.jsx("span",{className:`absolute bottom-0 left-0 w-full h-0.5 ${t?"bg-red-500":"bg-green-600"} transform scale-x-0 transition-transform duration-300 origin-left hover:scale-x-100`})]},i.name))}),e.jsxs("div",{className:"hidden lg:flex lg:flex-1 lg:justify-end lg:items-center lg:space-x-4",children:[e.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:g,className:`p-2 rounded-full ${t?"bg-gradient-to-r from-gray-700/50 to-gray-600/50 hover:from-gray-600/50 hover:to-gray-500/50":"bg-gradient-to-r from-green-100 to-red-100 hover:from-green-200 hover:to-red-200"} transition-colors`,"aria-label":t?"Switch to light mode":"Switch to dark mode",children:t?e.jsx(P,{className:"w-5 h-5 text-yellow-400"}):e.jsx(L,{className:"w-5 h-5 text-gray-700"})}),e.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative p-2 rounded-full ${t?"bg-gradient-to-r from-gray-700/50 to-gray-600/50 hover:from-gray-600/50 hover:to-gray-500/50":"bg-gradient-to-r from-green-100 to-red-100 hover:from-green-200 hover:to-red-200"} transition-colors`,children:[e.jsx(R,{className:`w-5 h-5 ${t?"text-gray-200":"text-gray-700"}`}),e.jsx(A,{children:a>0&&e.jsx(k.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:`absolute -top-1 -right-1 w-5 h-5 text-xs font-bold flex items-center justify-center ${t?"bg-red-500 text-white":"bg-green-600 text-white"} rounded-full`,children:a})})]}),c?e.jsxs("div",{className:"relative user-menu-container",children:[e.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i=>{i.stopPropagation(),l(!m)},className:`flex items-center space-x-2 py-1 px-3 rounded-full ${t?"bg-gradient-to-r from-gray-700/50 to-gray-600/50 hover:from-gray-600/50 hover:to-gray-500/50":"bg-gradient-to-r from-green-100 to-red-100 hover:from-green-200 hover:to-red-200"} transition-colors`,children:[e.jsx("span",{className:`text-sm font-medium ${t?"text-gray-200":"text-gray-700"}`,children:h}),e.jsx(z,{className:`w-4 h-4 ${t?"text-gray-200":"text-gray-700"}`})]}),e.jsx(A,{children:m&&e.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`absolute right-0 mt-2 w-48 py-2 ${t?"bg-gray-800":"bg-white"} rounded-lg shadow-xl z-20`,children:[e.jsxs("div",{className:`px-4 py-2 border-b ${t?"border-gray-700":"border-gray-100"}`,children:[e.jsx("p",{className:`text-sm font-medium ${t?"text-gray-200":"text-gray-900"}`,children:h}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:x==null?void 0:x.email})]}),e.jsxs(w,{to:"/profile",className:`block px-4 py-2 text-sm ${t?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"} flex items-center`,children:[e.jsx(z,{className:"w-4 h-4 mr-2"})," My Profile"]}),e.jsxs(w,{to:"/orders",className:`block px-4 py-2 text-sm ${t?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"} flex items-center`,children:[e.jsx(R,{className:"w-4 h-4 mr-2"})," My Orders"]}),e.jsxs("button",{onClick:y,className:`w-full text-left px-4 py-2 text-sm ${t?"text-red-400 hover:bg-gray-700":"text-red-600 hover:bg-gray-100"} flex items-center`,children:[e.jsx(T,{className:"w-4 h-4 mr-2"})," Sign out"]})]})})]}):e.jsxs(w,{to:"/auth",className:`relative px-6 py-2.5 rounded-full ${t?"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white":"bg-gradient-to-r from-emerald-600 to-lime-600 text-white"} font-semibold overflow-hidden transition-all duration-300 hover:shadow-lg ${t?"hover:shadow-emerald-500/20":"hover:shadow-emerald-600/20"} hover:-translate-y-0.5 flex items-center`,children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"relative z-10",children:"Sign In"}),e.jsx("div",{className:`absolute inset-0 ${t?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-green-700 to-green-800"} transform scale-x-0 transition-transform duration-300 origin-left hover:scale-x-100`})]})]})]}),e.jsxs("div",{className:`fixed inset-0 z-50 transition-all duration-300 ${s?"opacity-100 visible":"opacity-0 invisible"}`,children:[e.jsx("div",{className:"fixed inset-0 bg-black/80",onClick:()=>n(!1)}),e.jsxs("div",{className:`fixed inset-y-0 right-0 w-full sm:max-w-sm ${t?"bg-gray-900":"bg-white"} p-6 transform transition-transform duration-300 ease-in-out`,style:{transform:s?"translateX(0)":"translateX(100%)"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-2xl font-bold ${t?"text-gray-100":"text-gray-800"}`,children:"Salad Shark"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:g,className:`p-2 rounded-full ${t?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"} transition-colors`,children:t?e.jsx(P,{className:"w-5 h-5"}):e.jsx(L,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-full ${t?"bg-red-600 text-white hover:bg-red-500":"bg-green-600 text-white hover:bg-green-500"} transition-colors`,onClick:()=>n(!1),"aria-label":"Close menu",children:e.jsx(J,{className:"w-6 h-6"})})]})]}),c&&e.jsx("div",{className:`mt-6 py-3 px-4 ${t?"bg-gray-800":"bg-gray-100"} rounded-lg`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full ${t?"bg-gray-700":"bg-white border border-gray-200"} flex items-center justify-center`,children:e.jsx(z,{className:`w-6 h-6 ${t?"text-gray-300":"text-gray-600"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:`${t?"text-gray-200":"text-gray-800"} font-medium`,children:h}),e.jsxs("button",{onClick:y,className:`text-sm ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} flex items-center`,children:[e.jsx(T,{className:"w-3 h-3 mr-1"})," Sign out"]})]})]})}),e.jsxs("div",{className:`mt-4 flex items-center justify-between py-3 px-4 ${t?"bg-gray-800":"bg-gray-100"} rounded-lg`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{className:`w-5 h-5 ${t?"text-gray-200":"text-gray-700"}`}),e.jsx("span",{className:`${t?"text-gray-200":"text-gray-800"}`,children:a>0?`${a} item${a>1?"s":""}`:"Cart empty"})]}),a>0&&e.jsx(w,{to:"/cart",className:`text-xs py-1 px-3 ${t?"bg-red-500 text-white":"bg-green-600 text-white"} rounded-full font-medium`,onClick:()=>n(!1),children:"View"})]}),e.jsxs("nav",{className:"mt-8 space-y-4",children:[B.map(i=>e.jsx(w,{to:i.href,className:`block py-2 px-4 rounded-lg ${t?"hover:bg-gray-800 text-gray-300":"hover:bg-gray-100 text-gray-800"} transition-colors`,onClick:()=>n(!1),children:i.name},i.name)),!c&&e.jsx(w,{to:"/auth",className:`block mt-6 text-center py-3 px-4 rounded-full ${t?"bg-red-600 text-white hover:bg-red-500":"bg-green-600 text-white hover:bg-green-500"} font-semibold transition-colors`,onClick:()=>n(!1),children:"Sign In"})]})]})]})]})}export{A,xe as H,R as S,de as u};
